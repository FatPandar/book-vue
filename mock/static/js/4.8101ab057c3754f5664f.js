webpackJsonp([4],{"1fjh":function(t,e){},tcnj:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("Gu7T"),r=n.n(o),a=n("Xxa5"),s=n.n(a),i=n("exGp"),c=n.n(i),u=n("qmpX"),f=n("gyMJ"),l=n("Cpzh"),v={created:function(){this.getData()},data:function(){return{list:[],offset:0,hasMore:!0}},methods:{add:function(t){this.$store.commit(l.a,t)},remove:function(t){var e=this;return c()(s.a.mark(function n(){return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(f.e)(t);case 2:e.list=e.list.filter(function(e){return e.bookId!==t});case 3:case"end":return n.stop()}},n,e)}))()},getData:function(){var t=this;return c()(s.a.mark(function e(){var n,o,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.d)(t.offset);case 2:n=e.sent,o=n.hasMore,a=n.books,t.hasMore=o,t.list=[].concat(r()(t.list),r()(a));case 7:case"end":return e.stop()}},e,t)}))()},more:function(){this.hasMore&&(this.offset+=5,this.getData())},getMore:function(){var t=this.$refs.list,e=t.scrollHeight;t.scrollTop+t.clientHeight+20>e&&this.more()}},computed:{},components:{Header:u.a}},d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Header",{attrs:{back:!1}},[t._v("列表")]),t._v(" "),n("div",{ref:"list",staticClass:"box",on:{scroll:t.getMore}},[n("ul",t._l(t.list,function(e,o){return n("router-link",{key:o,attrs:{to:{name:"detail",params:{bid:e.bookId}},tag:"li"}},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.bookPic,expression:"item.bookPic"}]}),t._v(" "),n("div",[n("h5",[t._v(t._s(e.bookName))]),t._v(" "),n("p",[t._v(t._s(e.bookInfo))]),t._v(" "),n("b",[t._v("￥"+t._s(e.bookPrice))]),t._v(" "),n("div",[n("button",{on:{click:function(n){return n.stopPropagation(),t.remove(e.bookId)}}},[t._v("删除")]),t._v(" "),n("button",{staticClass:"cart",on:{click:function(n){return n.stopPropagation(),t.add(e)}}},[t._v("加入购物车")])])])])}),1)])],1)},staticRenderFns:[]};var h=n("VU/8")(v,d,!1,function(t){n("1fjh")},"data-v-2f899eb6",null);e.default=h.exports}});
//# sourceMappingURL=4.8101ab057c3754f5664f.js.map